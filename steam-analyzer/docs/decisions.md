# 設計判断記録

## 2026-02-16: TagRarity 算出方式

**判断:** `rarity = 1 - (出現ゲーム数 / 総ゲーム数)` のシンプルな方式を採用。
**理由:** TF-IDF の DF 部分に相当。ゲーム数が1本以下の場合は全て0を返す（分散が計算不能）。
**代替案:** log ベースの IDF 計算も検討したが、初期実装としてはシンプルな線形方式で十分。

## 2026-02-16: aggregator のマージ戦略

**判断:** base（先に登場した方）の非null値を優先。tags/genres は base のみ使用（マージしない）。
**理由:** Steam が最も信頼性の高いタグ/ジャンル情報を持つため。sourceFlags のみ和集合でマージ。

## 2026-02-16: store.js の設定管理

**判断:** settings は単一オブジェクトとして保存し、キー別にアクセス。
**理由:** electron-store の get/set と相性がよく、設定追加時の拡張性も高い。
